/*!
 * JavaScript Class Library v0.5.3 (JSC v0.5.3)
 *
 * Copyright 2012 Jean-Sebastien CONAN
 * Released under the MIT license
 */
(function(e){(function(e){if("function"===typeof define){define(e)}else if("undefined"!==typeof exports&&"undefined"!==typeof module){module.exports=e()}else{this.JSC=e()}})(function(t){var n=this,r=n.JSC,i=0,s="Class",o="Unexpected error !",u="%s : This method is abstract and has to be overloaded !",a="Class [%s] not found !",f="This class cannot be directly instantiated !",l={},c=[],h={},p="",d=c.slice,v=h.hasOwnProperty,m=h.toString,g=/^\[object\s(.*)\]$/,y=/xyz/.test(function(){xyz()})?/\binherited\b/:/.*/,b=/\s*([\(\)\[\]\{\};]+)\s*/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^([*]?[\s+>~]*[#.\w-\[:*]+[#.\w-\[\]=\(\)"'*~^$:]*)+$/,S=/^(((https?|ftps?):\/\/)((\w+:?\w*@)?(\S+)(:[0-9]+)?)?)?([\w-.\/]+[.\/])+([\w#!:.,;?+=&%@!\-\/])+$/,x=/([a-z0-9]+)_([a-z0-9])/gi,T=/([a-z0-9]+)([A-Z])/g,N=/([^\w\s])/g,C=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,L=/^[\],:{}\s]*$/,A=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,O=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,M=/(?:^|:|,)(?:\s*\[)+/g,_="object ",D="["+_+"Array]",P="["+_+"Object]",H="["+_+"Function]",B="["+_+"String]",j="["+_+"Boolean]",F=function(e){return e},I=function(e){var t=e.getUTCMonth()+1,n=e.getUTCDate(),r=e.getUTCHours(),i=e.getUTCMinutes(),s=e.getUTCSeconds(),o=e.getUTCMilliseconds();return e.getUTCFullYear()+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)+"T"+(r<10?"0"+r:r)+":"+(i<10?"0"+i:i)+":"+(s<10?"0"+s:s)+"."+(o<10?"00"+o:o<100?"0"+o:o)+"Z"},q=function(e){var t,n={};if(e.length){for(t=0;t<e.length;t++){n["["+_+e[t]+"]"]=e[t]}}else{for(t in e){n["["+_+t+"]"]=e[t]}}return n},R=q(["Array","Boolean","Date","Function","Object","Number","RegExp","String"]),U=F({'"':'\\"',"\\":"\\\\","	":"\\t","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r"}),z=q({String:function(e){return C.test(e)?'"'+e.replace(C,function(e){var t=U[e];return t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).substr(-4)})+'"':'"'+e+'"'},Object:function(e){var t,n="{";for(t in e){if(v.call(e,t)){n+=(n.length>1?",":p)+V.toString(t)+":"+V.toString(e[t])}}return n+"}"},Array:function(e){var t,n="[";for(t=0;t<e.length;t++){n+=(n.length>1?",":p)+V.toString(e[t])}return n+"]"},Date:I,Function:function(e){return e.toString().replace(b,"$1")},RegExp:function(e){return"/"+e.source+"/"+(e.global?"g":p)+(e.ignoreCase?"i":p)}}),W=q({Number:function(e){return isFinite(e)?e:null},String:F,Boolean:F,Date:I,Object:function(e){var n,r,i={};for(n in e){if(v.call(e,n)){r=V.jsonData(e[n]);if(t!==r){i[n]=r}}}return i},Array:function(e){var n,r,i=[];for(n=0;n<e.length;n++){r=V.jsonData(e[n]);if(t!==r){i.push(r)}}return i}}),X=function(e){var t,r=n;for(t=0;r&&t<e.length;t++){r=r[e[t]]}return r},V={version:"0.5.3",className:"JSC",guid:0,Interfaces:{SimpleEvents:{on:function(e,t){e=V.compose("_on",e);if(t){if(V.isFunction(t)){this[e]=t}return this}return this[e]},off:function(e){e=V.compose("_on",e);var t=this[e];delete this[e];return t},trigger:function(e){e=V.compose("_on",e);return this[e]?this[e].apply(this,d.call(arguments,1)):t}},Iterable:["iterator","each","filter"]},Prototypes:{attach:function(e,t){if(e&&this[e]){var n="__cache__"+e;if(t||!this[n]){this[n]=V.attach.apply(V,[this,e].concat(d.call(arguments,2)))}return this[n]}else{return V.noop}}},Statics:{derive:function(e,t){return V.create.apply(V,[this].concat(d.call(arguments)))},extend:function(e){V.extend(this.prototype,e);return this},implement:function(e,t){return V.implement(this,e,t)},statics:function(e){return V.extend(this,e)},method:function(e,t){return(this.prototype[e]||V.noop).apply(t||this,d.call(arguments,2))},self:function(e){this.body=V.isString(e)?this[e]:e||this.getInstance||function(){return new this};return this},toString:function(){return this.className}},noConflict:function(){n.JSC=r;return V},helper:function(e){if(V.isFunction(e)){var n=e.apply(V,[V].concat(d.call(arguments,1)));if(t!==n&&n.className){V.globalize(n)}}return n},noop:function(){},id:function(e,n){if(t!==e&&null!==e){return e.guid||(V===e?0:e.guid=n||++i)}return n||++i},make:function(e,t,n,r){var i,s,o,u,a,f,l;for(s=0;s<arguments.length;s++){o=arguments[s];switch(typeof o){case"undefined":break;case"string":u=o.toLowerCase();break;case"boolean":l=o;break;default:if(a){f=o}else{a=o}}}i="singleton"===u?V.singleton(a):"multiton"===u?V.multiton(a):V.create(a);f&&i.statics(f);return false!==l&&i.className?V.globalize(i):i},create:function(e,n,r){var i,o,u,l={},c=d.call(arguments);while(c.length){i=c.shift();if(i){switch(m.call(i)){case H:u=i;break;case B:o=i;break;case P:V.merge(l,i);break}}}u=u||l.superClass;o=o||l.className;var h=function(){var e=arguments.callee.caller;if(e===V.create){return this}if(this instanceof h){h.getInstance&&e!==h.getInstance&&V.error(f,h);this.initialize&&this.initialize.apply(this,arguments);return this}return h.body?h.body.apply(h,arguments):t};V.id(h);h.className=o||s+h.guid;if(u){u=V.loadClass(u)||V.error(a.replace("%s",u),"JSC");h.superClass=u;h.prototype=new u;h.prototype.constructor=h}h.interfaces=u&&u.interfaces?V.merge({},u.interfaces):{};for(i in V.Prototypes){if(!h.prototype[i]){h.prototype[i]=V.Prototypes[i]}}V.extend(h.prototype,l);return V.extend(h,V.Statics)},singleton:function(e,n){var r,i=V.create(e,n);i.getInstance=function(){if(t===r){r=new i}return r};return i.self()},multiton:function(e,n){var r={},i=V.create(e,n);i.getInstance=function(e){var n=p+e;if(t===r[n]){r[n]=new i(e)}return r[n]};return i.self()},abstractMethod:function(e){var t=function(){var t=(this.className||"[unknownClass]")+"."+(e||"[unknownMethod]");V.error(u.replace("%s",t),t)};t._abstract=true;return t},overload:function(e,t){if(e!==t&&V.isFunction(e)&&y.test(e)){t=V.isFunction(t)?t:V.noop;var n=function(){var n,r=this.inherited;this.inherited=t;n=e.apply(this,arguments);this.inherited=r;return n};n._overload=true;V.id(n,V.id(e));return n}return e},method:function(e,t,n){e=V.loadClass(e)||V.error(a.replace("%s",e),"JSC");return(e.prototype[t]||V.noop).apply(n||e,d.call(arguments,3))},attach:function(e,n){if(e&&V.isString(n)){i=e[n];n=e;e=i}e=V.isFunction(e)?e:V.noop;var r=d.call(arguments,2),i=function(){return e.apply(n,r.concat(d.call(arguments)))};i._attached=true;V.id(i,e?V.id(e):t);return i},extend:function(e,t){if(e){for(var n in t){if(n!=="className"&&n!=="superClass"&&v.call(t,n)){e[n]=V.overload(t[n],e[n])}}}return e},implement:function(e,n,r){var i,s;if(e&&e.prototype){if(V.isString(n)){i=r;r=n;n=i}if(r&&!n){n=V.Interfaces[r]}if(n){if(V.isArray(n)){for(i=0;i<n.length;i++){s=n[i];if(t===e.prototype[s]){e.prototype[s]=V.abstractMethod(s)}}}else{r=r||n.className;for(i in n){s=n[i];if(t===e.prototype[i]&&"className"!==i){e.prototype[i]=t===s?V.abstractMethod(i):s}}}}if(r){e.interfaces=e.interfaces||{};e.interfaces[r]=true}}return e},getClassName:function(e){if(e){if(e.className){return e.className}if(e.constructor){return e.constructor.className}}return t},getClass:function(e){var n=V.isString(e)?V.global(e):e;return V.isFunction(n)?n:t},loadClass:function(e){return V.getClass(e)||V.error(a.replace("%s",e),"JSC.loadClass")},getSuperClassName:function(e){e=V.getSuperClass(e);return e?e.className:t},getSuperClass:function(e){if(e){if(e.superClass){return e.superClass}if(e.constructor){return e.constructor.superClass}}return t},instanceOf:function(e,t){if(e&&t){var n=e.constructor&&e.constructor.interfaces?e.constructor.interfaces:e.interfaces||h,r=e.className,i;if(V.isString(t)){if(n[t]||r===t){return true}t=V.getClass(t)}if(!t){return false}i=t.className;if(n[i]||r===i){return true}return V.isFunction(t)?e instanceof t:false}return false},type:function(e){if(null==e){return String(e)}if(e.className){return e.className}if(e.constructor&&e.constructor.className){return e.constructor.className}var t=m.call(e);return R[t]||(R[t]=(t.match(g)||[0,"Object"])[1])},isFunction:function(e){return e&&H===m.call(e)?true:false},isClass:function(e){return e&&e.className&&H===m.call(e)?true:false},isInstance:function(e){return e&&e.constructor&&e.constructor.className?true:false},isAbstract:function(e){return e&&e._abstract?true:false},isAttached:function(e){return e&&e._attached?true:false},isOverloaded:function(e){return e&&e._overload?true:false},isPlugin:function(e){return e&&e._plugin?true:false},isArray:Array.isArray||function(e){return e&&D===m.call(e)?true:false},isObject:function(e){return e&&P===m.call(e)?true:false},isEmptyObject:function(e){if(!V.isObject(e)){return false}for(var t in e){return false}return true},isString:function(e){return p===e||e&&B===m.call(e)?true:false},isBool:function(e){return false===e||e&&j===m.call(e)?true:false},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isNull:function(e){return e===null},isUndef:function(e){return e===t},isVoid:function(e){return e===t||e===null},isHTML:function(e){if(V.isString(e)){var t;e=e.trim();if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3){t=[null,e,null]}else{t=w.exec(e)}return t&&t[1]?true:false}return false},isSelector:function(e){if(V.isString(e)){var t=E.exec(e.trim());return t&&t[0]?true:false}return false},isURL:function(e){if(V.isString(e)){var t=S.exec(e.trim());return t&&t[0]?true:false}return false},toString:function(){if(arguments.length){var e,t=arguments[0];if(!t&&p!==t){return String(t)}else{e=m.call(t);return z[e]?z[e](t):t.toString()}}return V.className+" "+V.version},jsonData:function(e){if(e){var n=m.call(e);return W[n]?W[n](e):t}return e},jsonEncode:function(e){e=V.jsonData(e);return t!==e?V.toString(e):p},jsonDecode:function(e){if(V.isString(e)){try{e=e.trim();if(e){if(n.JSON&&n.JSON.parse){return n.JSON.parse(e)}if(L.test(e.replace(A,"@").replace(O,"]").replace(M,p))){return(new Function("return "+e+";"))()}}}catch(t){}}return null},compose:function(e){var t,n;e=e||"";for(t=1;t<arguments.length;t++){n=""+arguments[t];e+=n.charAt(0).toUpperCase()+n.substr(1)}return e},camelize:function(e,n){e=(p+(t===e?p:e)).replace(x,function(e,t,n){return t+n.toUpperCase()});return n?e.charAt(0).toUpperCase()+e.substr(1):e},underscore:function(e,n){e=(p+(t===e?p:e)).replace(T,"$1_$2");return n?e.toLowerCase():e},regex:function(e){return(p+(t===e?p:e)).replace(N,"\\$1")},error:function(e,t){throw new V.Error(e,t)},globalize:function(e,n){if(e&&!V.isString(e)&&t===n){n=e;e=e.className}var r=[];e+=p;if(e.indexOf(".")){r=e.split(".");e=r.pop()}r=X(r);if(r){if(t!==n){r[e]=n}else{n=r[e];delete r[e]}}else{n=t}return n},global:function(e){return X((p+e).split("."))},sort:function(e,t,n){var r,i,s,o,u,a,f;if(V.isArray(e)){t=!t?[]:V.isArray(t)?t:[t];if(t.length){e.sort(function(e,n){a=V.isVoid(e);f=V.isVoid(n);if(!a&&!f){u=false;for(r=0;r<t.length;r++){i=t[r];s=e[i];o=n[i];a=V.isVoid(s);f=V.isVoid(o);if(!a&&!f){if(s<o){return-1}if(s>o){return 1}continue}else if(a&&f){u=true}else{return a?-1:1}}return u?e<n?-1:e>n?1:0:0}else{return a?-1:f?1:0}})}else{e.sort()}if(n){r=0;i=e.length-1;if(r<=i){a=f=true;while(r<=i){if(a){if(V.isVoid(e[r])){r++}else{a=false}}if(f){if(V.isVoid(e[i])){i--}else{f=false}}if(!a&&!f){break}}}r&&e.splice(0,r);i<e.length-1&&e.splice(i,e.length-i)}}return e},shuffle:function(e){if(V.isArray(e)){var t=e.length,n,r;while(t){n=parseInt(Math.random()*--t);r=e[t];e[t]=e[n];e[n]=r}}return e},merge:function(e){var n,r,i,s,o,u=false;for(r=0;r<arguments.length;r++){e=arguments[r];if(V.isBool(e)){u=e}else if(!n){n=e}else{for(i in e){s=n[i];o=e[i];if(u&&o){if(V.isObject(o)){n[i]=V.merge(u,V.isObject(s)?s:{},o);continue}else if(V.isArray(o)){n[i]=V.merge(u,V.isArray(s)?s:[],o);continue}}if(t!==o){n[i]=o}}}}return n||{}},each:function(e,t){var n,r,i,s,o=V.isArray(e);if(e&&t){if(V.instanceOf(e,"Iterable")){return e.each.apply(e,arguments)}if(V.isFunction(t)){if(o){for(n=0;n<e.length;n++){s=e[n];t.call(s,n,s,e)}}else{for(n in e){s=e[n];t.call(s,n,s,e)}}}else{r=d.call(arguments,2);if(o){for(n=0;n<e.length;n++){s=e[n];i=s[t];V.isFunction(i)&&i.apply(s,r)}}else{for(n in e){s=e[n];i=s[t];V.isFunction(i)&&i.apply(s,r)}}}}return e},filter:function(e,t,n){var r,i=V.isArray(e),s=i?[]:{};if(e){if(V.instanceOf(e,"Iterable")){return e.filter.apply(e,arguments)}switch(V.type(t)){case"Function":if(i){for(r=0;r<e.length;r++){if(t.call(e,r,e[r],e)){s.push(e[r])}}}else{for(r in e){if(t.call(e,r,e[r],e)){s[r]=e[r]}}}break;case"RegExp":if(i){for(r=0;r<e.length;r++){if(t.test(""+e[r])){s.push(e[r])}}}else{for(r in e){if(t.test(r)){s[r]=e[r]}}}break;case"Object":n=n||"filter";if(!V.isFunction(n)){n=t[n]}if(V.isFunction(n)){if(i){for(r=0;r<e.length;r++){if(n.call(t,r,e[r],e)){s.push(e[r])}}}else{for(r in e){if(n.call(t,r,e[r],e)){s[r]=e[r]}}}}break;default:t&&V.merge(s,e)}}return s},owned:function(e){var t,n={};if(e){for(t in e){if(v.call(e,t)){n[t]=e[t]}}}return n},isInstalled:function(e){var t;if(e){if(isNaN(e)){if(V.isString(e)){t=e}else if(V.isObject(e)&&!V.isEmptyObject(e)){t=e.pluginName||V.id(e)}}else{t=e}}return!t||l[t]?true:false},install:function(e){var t,n,r,i,s,o=0;if(V.isObject(e)&&e.pluginName){t=e.pluginName;o=V.id(e);if(o&&!l[t]){l[o]=l[t]=s={};s.pluginName=t;s.guid=o;for(n in e){if("pluginName"!==n&&"guid"!==n){r=e[n];if(V.isObject(r)||V.isFunction(r)){s[n]=i=V[n];if(i){if(V.isFunction(i)){if(V.isFunction(r)){V[n]=V.overload(r,i)}else{V[n]=V.extend(i,r)}}else if(V.isObject(i)){V[n]=V.extend(r,i)}else{V[n]=r}}else{V[n]=r}V[n]._plugin=o}}}}}return o},uninstall:function(e){var n,r;if(e){if(isNaN(e)){if(V.isString(e)){n=e}else if(V.isObject(e)&&!V.isEmptyObject(e)){n=e.pluginName||V.id(e)}}else{n=e}e=l[n];if(e){for(r in e){if("pluginName"!==r&&"guid"!==r){if(t!==e[r]){V[r]=e[r]}else{delete V[r]}}}delete l[e.pluginName];delete l[e.guid]}else{n=0}}return n?true:false}};V.Error=V.create(Error,"Error",{initialize:function(e,t){this.message=e||o;this.context=t}});if(!p.trim){String.prototype.trim=function(){return this.replace(k,p)}}var J=localStorage||{},K=J.getItem||function(e){return this[e]},Q=J.setItem||function(e,t){this[e]=t},G=J.removeItem||function(e){t!==this[e]&&delete this[e]},Y={className:"LocalStorage",initialize:function(e){this.name=e||this.name;this.load();localStorage&&this.bindEvent(globalContext,"unload",V.attach(this,"store"))},load:function(){this.data=V.jsonDecode(K.call(J,this.name))||{}},store:function(){if(V.isEmptyObject(this.data)){G.call(J,this.name)}else{Q.call(J,this.name,V.jsonEncode(this.data))}},set:function(e,t){this.data[e]=t;return this},get:function(e){return this.data[e]},remove:function(e){var n=this.data[e];t!==n&&delete this.data[e];return n},clear:function(){this.data={};return this},bindEvent:function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}},name:V.className,data:null};V.localStorage=V.multiton(Y);var Z='<div class="error">An error has occurred !</div>',et=e();V.Template=V.create({className:"Template",initialize:function(e){this.renderTo=[];this.modifiers={};this.postProcessors={};e&&this.load(e)},load:function(t){this.template="";this.loaded=false;if(V.isString(t)){if(V.isHTML(t)){this.template=t;this.loaded=true}else if(V.isSelector(t)){this.template=e(t).html();this.loaded=true}else if(V.isURL(t)){e.ajax({url:t,cache:false,dataType:"text",error:this.attach("_ajaxTemplateError"),success:this.attach("_ajaxTemplateSuccess")});return this}else{this.template=this.errorTemplate;this.loaded=true}}else if(t&&t.jquery){this.template=t.html();this.loaded=true}else{this.template=this.errorTemplate;this.loaded=true}if(this.loaded){this.template=this.trigger("load",this.template,t,this)||this.template;this.compile();this.nodes=this.trigger("loaded",this.nodes,this.template,this)||this.nodes}return this},render:function(t,n,r){t=t||{};if(n){n=n.jquery?n:e(n);r=r?true:false;if(V.isString(t)){if(V.isURL(t)){e.ajax({url:t,cache:false,dataType:"json",error:V.attach(this,"_ajaxDataError",n,r),success:V.attach(this,"_ajaxDataSuccess",n,r)});return this}else{t=V.jsonDecode(t)||[]}}this.renderTo.push({place:n,data:t,clean:r});return this.inject()}return this.compose(t)},inject:function(){if(this.loaded){while(this.renderTo.length){var e,t=this.renderTo.splice(0,1)[0];t.clean&&t.place.empty();e=this.compose(t.data);e=this.trigger("render",e,t.data,this)||e;t.place.append(e);this.trigger("append",t.place,e,t.data,this)}}return this},_ajaxTemplateError:function(e,t,n){var r=this.errorTemplate;r=this.trigger("error",r,t,e,n,this)||r;this.load(r).loaded&&this.inject()},_ajaxTemplateSuccess:function(e,t,n){e=this.trigger("success",e,t,n,this)||e;this.load(e).loaded&&this.inject()},_ajaxDataError:function(t,n,r,i,s){var o=this.errorTemplate;o=this.trigger("dataError",t,n,i,r,s,this)||o;if(t){n&&t.empty();t.append(e(o))}},_ajaxDataSuccess:function(e,t,n,r,i){n=this.trigger("dataSuccess",n,e,t,r,i,this)||n;this.render(n,e,t)},compile:function(){this.nodes=this.template?e(this.template):et;return this},cloneTemplate:function(){if(this.nodes&&this.nodes.length){return this.nodes.clone()}return et},compose:function(t,n,r){var i,s,o,u,a,f=this;t=t||[];r=r||!n;n=n||this.cloneTemplate();if(V.isArray(t)){s=n.find('[data-context="template"]');if(s.length){s.each(function(){var n=e(this);n.append(f.compose(t,n.children().remove(),r))})}else if(n.length){u=et;for(i=0;i<t.length;i++){o=this.compose(t[i],i+1<t.length?n.clone():n);r&&this.globalPostProcess(o,t[i]);u=u.add(o)}n=u}}else{for(i in t){a=this.modifiedData(i,t);o=n.find('[data-name="'+i+'"]');if(V.isArray(a)){o.each(function(){var t=e(this);t.append(f.compose(a,t.children().remove()))})}else{o.html(a)}this.postProcess(i,o,t)}r&&this.globalPostProcess(n,t)}return n},modifiedData:function(e,t){if(V.isFunction(this.modifiers[e])){return this.modifiers[e].call(this,t[e],e,t,this)}return t[e]},postProcess:function(e,t,n){if(V.isFunction(this.postProcessors[e])){this.postProcessors[e].call(this,t,n,e,this)}return t},globalPostProcess:function(e,t){if(V.isFunction(this.globalPostProcessor)){this.globalPostProcessor.call(this,e,t,this)}return e},setModifiers:function(e){if(V.isObject(e)){this.modifiers=e}return this},getModifiers:function(){return this.modifiers},setModifier:function(e,t){if(V.isFunction(t)){this.modifiers[e]=t}return this},getModifier:function(e){return this.modifiers[e]},setPostProcessors:function(e){if(V.isObject(e)){this.postProcessors=e}return this},getPostProcessors:function(){return this.postProcessors},setPostProcessor:function(e,t){if(V.isFunction(t)){this.postProcessors[e]=t}return this},getPostProcessor:function(e){return this.postProcessors[e]},setGlobalPostProcessor:function(e){if(V.isFunction(e)){this.globalPostProcessor=e}return this},getGlobalPostProcessor:function(e){return this.globalPostProcessor},onRender:function(e){return this.on("render",e)},onAppend:function(e){return this.on("append",e)},onLoad:function(e){return this.on("load",e)},onLoaded:function(e){return this.on("loaded",e)},onSuccess:function(e){return this.on("success",e)},onError:function(e){return this.on("error",e)},onDataSuccess:function(e){return this.on("dataSuccess",e)},onDataError:function(e){return this.on("dataError",e)},loaded:false,renderTo:[],template:"",errorTemplate:Z,nodes:et,modifiers:null,postProcessors:null,globalPostProcessor:null});V.Template.implement("SimpleEvents").self(function(e){return new this(e)});var d=[].slice,tt={className:"Schema",initialize:function(e,t){this.name=e;this.nested=t;this.nodes={}},rename:function(e){this.name=e},nest:function(e){this.nested=e},node:function(e,t){var n=V.isObject(e)&&e instanceof V.Schema?e:this.find(e);return n||(t?this.node(t):this).add(e)},move:function(e,t){var n=this.remove(e);n&&(t?this.node(t):this).add(n);return n},add:function(e){var t;if(V.isObject(e)&&e instanceof V.Schema){t=e;e=t.name}else{t=this.nodes[e]||V.Schema(e)}this.nodes[e]=t;return t},remove:function(e){var t,n;if(e){if(this.nodes[e]){n=this.nodes[e];delete this.nodes[e];return n}for(t in this.nodes){n=this.nodes[t].remove(e);if(n){return n}}}return null},find:function(e){var t,n;if(e){if(this.nodes[e]){return this.nodes[e]}for(t in this.nodes){n=this.nodes[t].find(e);if(n){return n}}}return null},walk:function(e){var t,n,r=d.call(arguments,0);r[0]=this;e.apply(this,r);for(t in this.nodes){n=this.nodes[t];n.walk.apply(n,arguments)}return this},walkBack:function(e){var t,n,r=d.call(arguments,0);for(t in this.nodes){n=this.nodes[t];n.walkBack.apply(n,arguments)}r[0]=this;e.apply(this,r);return this},name:null,nested:null,nodes:null};V.Schema=V.create(tt).self(function(e,t){return new this(e,t)});V.Benchmark=V.create({className:"Benchmark",initialize:function(e){if(e){this.name=e.name||this.name;this.times=e.times||this.times;this.loops=e.loops||this.loops;this.benchs=e.benchs||[];this.setHandlers(e.handlers)}this.trigger("initialize",e,this)},run:function(){var e,t,n,r,i=[];this.trigger("beforeRun",this.benchs,this);for(e=0;e<this.benchs.length;e++){t=this.benchs[e];this.trigger("beforeBench",t,this);try{if(t.benchs){if(!r){r=this.getHandlers()}if(!(t instanceof V.Benchmark)){t=V.Benchmark(V.merge(true,{name:this.name,times:this.times,loops:this.loops,handlers:r},t))}else{t.setHandlers(r)}n=t.run()}else{n=this.bench(t.name,t.bench,t.loops,t.times)}}catch(s){n=this.measureDetails(s,t.name,t.bench)}i.push(n);this.trigger("afterBench",n,t,this)}this.trigger("afterRun",i,this);return i},bench:function(e,t,n,r){var i,s,o=[];r=r||this.times;n=n||this.loops;if(!V.isFunction(t)){V.error("A valid function is needed !")}for(i=0;i<r;i++){this.trigger("beforeMeasure",e,t,this);try{o.push(this.measure(t,n));s=this.measureDetails(o,e,t)}catch(u){s=this.measureDetails(u,e,t)}this.trigger("afterMeasure",s,this)}return s},measure:function(e,t){var n,r,i;t=t||this.loops;if(!V.isFunction(e)){V.error("A valid function is needed !")}r=this.timestamp();for(n=0;n<t;n++){e()}i=this.timestamp();return i-r},measureDetails:function(e,t,n){var r,i,s,o,u,a={};if(V.isArray(e)){for(r=0;r<e.length;r++){u=e[r];i=Math.min(i||u,u);s=Math.max(s||u,u);o=(o||0)+u}V.merge(a,{duration:o,average:o/(e.length||1),variation:s-i,min:i,max:s,success:true})}else{a.success=false}return V.merge(a,{name:t,bench:n,measures:e})},timestamp:function(){return(new Date).getTime()},getHandlers:function(){var e,t,n={};for(e in this){if("_on"===e.substr(0,3)&&V.isFunction(this[e])){t=e.charAt(3).toLowerCase()+e.substr(4);n[t]=this[e]}}return n},setHandlers:function(e){if(false!==this.trigger("beforeHandlers",e,this)){if(e){V.each(e,this.attach("on"))}}this.trigger("afterHandlers",e,this);return this},name:"JavaScript Performance Benchmark",loops:1e6,times:4,benchs:null});V.Benchmark.implement("SimpleEvents").self(function(e){return new this(e)});return V})})(jQuery)